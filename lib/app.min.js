!function(t){"use strict";function o(o,i){var s,e=t.proxy(this.process,this),n=t(o).is("body")?t(window):t(o);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=n.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(s=t(o).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var o,i=this;this.offsets=t([]),this.targets=t([]),o=this.$body.find(this.selector).map(function(){var o=t(this),s=o.data("target")||o.attr("href"),e=/^#\w/.test(s)&&t(s);return e&&e.length&&[[e.position().top+i.$scrollElement.scrollTop(),s]]||null}).sort(function(t,o){return t[0]-o[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,o=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,s=i-this.$scrollElement.height(),e=this.offsets,n=this.targets,f=this.activeTarget;if(o>=s)return f!=(t=n.last()[0])&&this.activate(t);for(t=e.length;t--;)f!=n[t]&&o>=e[t]&&(!e[t+1]||e[t+1]>=o)&&this.activate(n[t])},activate:function(o){var i,s;this.activeTarget=o,t(this.selector).parent(".active").removeClass("active"),s=this.selector+'[data-target="'+o+'"],'+this.selector+'[href="'+o+'"]',i=t(s).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var s=t(this),e=s.data("scrollspy"),n="object"==typeof i&&i;e||s.data("scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})},t.fn.scrollspy.Constructor=o,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var o=t(this);o.scrollspy(o.data())})})}(window.jQuery),!function(t){"use strict";var o=function(o,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(o),this.checkPosition()};o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o,i=t(document).height(),s=this.$window.scrollTop(),e=this.$element.offset(),n=this.options.offset,f=n.bottom,a=n.top,r="affix affix-top affix-bottom";"object"!=typeof n&&(f=a=n),"function"==typeof a&&(a=n.top()),"function"==typeof f&&(f=n.bottom()),o=null!=this.unpin&&s+this.unpin<=e.top?!1:null!=f&&e.top+this.$element.height()>=i-f?"bottom":null!=a&&a>=s?"top":!1,this.affixed!==o&&(this.affixed=o,this.unpin="bottom"==o?e.top-s:null,this.$element.removeClass(r).addClass("affix"+(o?"-"+o:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var s=t(this),e=s.data("affix"),n="object"==typeof i&&i;e||s.data("affix",e=new o(this,n)),"string"==typeof i&&e[i]()})},t.fn.affix.Constructor=o,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var o=t(this),i=o.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),o.affix(i)})})}(window.jQuery),jQuery(function(t){t(window).resize(function(){t("#slide1").css({height:t(window).height()-100})}),t(window).resize(),t("#slide1").on("click",function(){t("html, body").animate({scrollTop:t("#bookindex").position().top-20},888)}),t("#bookindex ol").affix({offset:{top:function(){return t("#bookexcerpt").position().top-t("#topnav").outerHeight(!0)},bottom:425}}),t.expr[":"].external=function(t){return t.hostname!=location.hostname},t("a:external").on("click",function(o){o.preventDefault();var i=t(this).attr("href");try{_gaq.push(["_trackEvent","Outbound Links",i]),0!==i.indexOf("tel:")&&_gaq.push(function(){document.location.href=i})}catch(s){document.location.href=i}}),window.fbAsyncInit=function(){var t=null;FB.Event.subscribe("auth.statusChange",function(o){"connected"==o.status&&(t=o.authResponse.accessToken)}),FB.Event.subscribe("edge.create",function(){null!=t&&FB.api("/me/homodigitalis:toread","post",{access_token:t,book:"http://homodigitalis.org/"},function(){})}),FB.init({appId:"155692864582714",status:!0,xfbml:!0})}});
//@ sourceMappingURL=lib/app.js.map