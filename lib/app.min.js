!function(t){"use strict";function o(o,i){var e,n=t.proxy(this.process,this),s=t(o).is("body")?t(window):t(o);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=s.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(e=t(o).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var o,i=this;this.offsets=t([]),this.targets=t([]),o=this.$body.find(this.selector).map(function(){var o=t(this),e=o.data("target")||o.attr("href"),n=/^#\w/.test(e)&&t(e);return n&&n.length&&[[n.position().top+i.$scrollElement.scrollTop(),e]]||null}).sort(function(t,o){return t[0]-o[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,o=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(o>=e)return a!=(t=s.last()[0])&&this.activate(t);for(t=n.length;t--;)a!=s[t]&&o>=n[t]&&(!n[t+1]||n[t+1]>=o)&&this.activate(s[t])},activate:function(o){var i,e;this.activeTarget=o,t(this.selector).parent(".active").removeClass("active"),e=this.selector+'[data-target="'+o+'"],'+this.selector+'[href="'+o+'"]',i=t(e).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var e=t(this),n=e.data("scrollspy"),s="object"==typeof i&&i;n||e.data("scrollspy",n=new o(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=o,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var o=t(this);o.scrollspy(o.data())})})}(window.jQuery),!function(t){"use strict";var o=function(o,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(o),this.checkPosition()};o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o,i=t(document).height(),e=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.bottom,f=s.top,c="affix affix-top affix-bottom";"object"!=typeof s&&(a=f=s),"function"==typeof f&&(f=s.top()),"function"==typeof a&&(a=s.bottom()),o=null!=this.unpin&&e+this.unpin<=n.top?!1:null!=a&&n.top+this.$element.height()>=i-a?"bottom":null!=f&&f>=e?"top":!1,this.affixed!==o&&(this.affixed=o,this.unpin="bottom"==o?n.top-e:null,this.$element.removeClass(c).addClass("affix"+(o?"-"+o:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var e=t(this),n=e.data("affix"),s="object"==typeof i&&i;n||e.data("affix",n=new o(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=o,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var o=t(this),i=o.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),o.affix(i)})})}(window.jQuery),jQuery(function(t){t(window).resize(function(){t("#slide1").css({height:t(window).height()-100})}),t(window).resize(),t("#slide1").on("click",function(){t("html, body").animate({scrollTop:t("#bookindex").position().top-20},888)}),t("#bookindex ol").affix({offset:{top:function(){return t("#bookexcerpt").position().top-t("#topnav").outerHeight(!0)},bottom:425}}),t.expr[":"].external=function(t){return t.hostname!=location.hostname},t("a:external").on("click",function(o){o.preventDefault();var i=t(this).attr("href");try{_gaq.push(["_trackEvent","Outbound Links",i]),0!==i.indexOf("tel:")&&_gaq.push(function(){document.location.href=i})}catch(e){document.location.href=i}}),window.fbAsyncInit=function(){var t=null;FB.Event.subscribe("auth.statusChange",function(o){"connected"==o.status&&(t=o.authResponse.accessToken)}),FB.Event.subscribe("edge.create",function(){null!=t&&FB.api("/me/homodigitalis:toread","post",{access_token:t,book:"http://homodigitalis.org/"},function(){})}),FB.init({appId:"155692864582714",channelUrl:"http://homodigitalis.org/channel.html",status:!0,xfbml:!0})},function(){var t=document.createElement("script");t.async=!0,t.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",document.getElementById("fb-root").appendChild(t)}()});
//@ sourceMappingURL=lib/app.js.map