!function(t){"use strict";function o(o,s){var i,e=t.proxy(this.process,this),n=t(o).is("body")?t(window):t(o);this.options=t.extend({},t.fn.scrollspy.defaults,s),this.$scrollElement=n.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(i=t(o).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var o,s=this;this.offsets=t([]),this.targets=t([]),o=this.$body.find(this.selector).map(function(){var o=t(this),i=o.data("target")||o.attr("href"),e=/^#\w/.test(i)&&t(i);return e&&e.length&&[[e.position().top+s.$scrollElement.scrollTop(),i]]||null}).sort(function(t,o){return t[0]-o[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},process:function(){var t,o=this.$scrollElement.scrollTop()+this.options.offset,s=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=s-this.$scrollElement.height(),e=this.offsets,n=this.targets,f=this.activeTarget;if(o>=i)return f!=(t=n.last()[0])&&this.activate(t);for(t=e.length;t--;)f!=n[t]&&o>=e[t]&&(!e[t+1]||e[t+1]>=o)&&this.activate(n[t])},activate:function(o){var s,i;this.activeTarget=o,t(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+o+'"],'+this.selector+'[href="'+o+'"]',s=t(i).parent("li").addClass("active"),s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate")}};var s=t.fn.scrollspy;t.fn.scrollspy=function(s){return this.each(function(){var i=t(this),e=i.data("scrollspy"),n="object"==typeof s&&s;e||i.data("scrollspy",e=new o(this,n)),"string"==typeof s&&e[s]()})},t.fn.scrollspy.Constructor=o,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=s,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var o=t(this);o.scrollspy(o.data())})})}(window.jQuery),!function(t){"use strict";var o=function(o,s){this.options=t.extend({},t.fn.affix.defaults,s),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(o),this.checkPosition()};o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var o,s=t(document).height(),i=this.$window.scrollTop(),e=this.$element.offset(),n=this.options.offset,f=n.bottom,a=n.top,r="affix affix-top affix-bottom";"object"!=typeof n&&(f=a=n),"function"==typeof a&&(a=n.top()),"function"==typeof f&&(f=n.bottom()),o=null!=this.unpin&&i+this.unpin<=e.top?!1:null!=f&&e.top+this.$element.height()>=s-f?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==o&&(this.affixed=o,this.unpin="bottom"==o?e.top-i:null,this.$element.removeClass(r).addClass("affix"+(o?"-"+o:"")))}};var s=t.fn.affix;t.fn.affix=function(s){return this.each(function(){var i=t(this),e=i.data("affix"),n="object"==typeof s&&s;e||i.data("affix",e=new o(this,n)),"string"==typeof s&&e[s]()})},t.fn.affix.Constructor=o,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=s,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var o=t(this),s=o.data();s.offset=s.offset||{},s.offsetBottom&&(s.offset.bottom=s.offsetBottom),s.offsetTop&&(s.offset.top=s.offsetTop),o.affix(s)})})}(window.jQuery),jQuery(function(t){t("#bookindex ol").affix({offset:{top:function(){var o=t("#bookexcerpt").position();return o.top-t("#topnav").outerHeight(!0)},bottom:function(){return t("#Natasha").outerHeight(!0)}}}),t.expr[":"].external=function(t){return t.hostname!=location.hostname},t("a:external").on("click",function(o){o.preventDefault();var s=t(this).attr("href");try{_gaq.push(["_trackEvent","Outbound Links",s]),0!==s.indexOf("tel:")&&_gaq.push(function(){document.location.href=s})}catch(i){document.location.href=s}})});
//@ sourceMappingURL=lib/app.js.map